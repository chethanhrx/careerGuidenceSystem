<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Login | CareerGuide</title>
  <link rel="stylesheet" href="../assets/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    .auth-page { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: var(--space-xl); }
    .auth-card { width: 100%; max-width: 400px; }
    .auth-card h1 { margin-bottom: var(--space-sm); }
    .auth-card .subtitle { color: var(--color-text-secondary); margin-bottom: var(--space-xl); }
    .auth-card .btn-block { margin-top: var(--space-md); }
    .auth-links { text-align: center; margin-top: var(--space-lg); font-size: var(--text-sm); }
    .auth-links a { display: inline-block; margin: 0 var(--space-sm); }
    .page-loader { position: fixed; inset: 0; background: var(--color-bg); z-index: 9999; display: flex; align-items: center; justify-content: center; transition: opacity 0.4s ease, visibility 0.4s ease; }
    .page-loader.hidden { opacity: 0; visibility: hidden; }
  </style>
</head>
<body>
  <div class="page-loader" id="pageLoader">
    <div class="skeleton" style="width: 280px; height: 200px; border-radius: var(--radius-xl);"></div>
  </div>

  <main class="auth-page">
    <div style="position: fixed; top: var(--space-md); right: var(--space-md); z-index: 10;">
      <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
        <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
        <svg class="icon-moon sr-only" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
      </button>
    </div>
    <div class="card auth-card">
      <h1>Admin login</h1>
      <p class="subtitle">Sign in to manage careers and users.</p>
      <form id="adminLoginForm" action="#" method="post">
        <div class="form-group">
          <label class="form-label" for="email">Email</label>
          <input type="email" id="email" name="email" class="form-input" placeholder="admin@example.com" required>
          <span class="form-error" id="emailError"></span>
        </div>
        <div class="form-group">
          <label class="form-label" for="password">Password</label>
          <input type="password" id="password" name="password" class="form-input" placeholder="••••••••" required>
          <span class="form-error" id="passwordError"></span>
        </div>
        <button type="submit" class="btn btn-primary btn-block" id="submitBtn">Sign in</button>
      </form>
      <div class="auth-links">
        <a href="../index.html">Back to site</a>
        <a href="../login.html">User login</a>
      </div>
    </div>
  </main>

  <script>
    (function() {
      var theme = localStorage.getItem('theme') || 'light';
      document.documentElement.setAttribute('data-theme', theme);
      var btn = document.getElementById('themeToggle');
      var sun = btn && btn.querySelector('.icon-sun');
      var moon = btn && btn.querySelector('.icon-moon');
      if (btn) {
        if (theme === 'dark') { if (sun) sun.classList.add('sr-only'); if (moon) moon.classList.remove('sr-only'); }
        else { if (sun) sun.classList.remove('sr-only'); if (moon) moon.classList.add('sr-only'); }
        btn.addEventListener('click', function() {
          var isDark = document.documentElement.getAttribute('data-theme') === 'dark';
          document.documentElement.setAttribute('data-theme', isDark ? 'light' : 'dark');
          localStorage.setItem('theme', isDark ? 'light' : 'dark');
          if (sun) sun.classList.toggle('sr-only', !isDark);
          if (moon) moon.classList.toggle('sr-only', isDark);
        });
      }
      var loader = document.getElementById('pageLoader');
      if (loader) window.addEventListener('load', function() { setTimeout(function() { loader.classList.add('hidden'); }, 300); });

      document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        var email = document.getElementById('email').value.trim();
        var password = document.getElementById('password').value;
        document.getElementById('emailError').textContent = '';
        document.getElementById('passwordError').textContent = '';
        if (!email) { document.getElementById('emailError').textContent = 'Email is required'; return; }
        if (!password) { document.getElementById('passwordError').textContent = 'Password is required'; return; }
        var submitBtn = document.getElementById('submitBtn');
        submitBtn.classList.add('loading');
        submitBtn.disabled = true;
        submitBtn.textContent = 'Signing in...';
        setTimeout(function() {
          window.location.href = 'dashboard.html';
        }, 800);
      });
    })();
  </script>
</body>
</html>
