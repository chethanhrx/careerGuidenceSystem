<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard | CareerGuide</title>
  <link rel="stylesheet" href="../assets/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    .admin-header { padding: var(--space-lg); border-bottom: 1px solid var(--color-border); display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: var(--space-md); }
    .admin-header h1 { font-size: var(--text-xl); }
    .admin-main { padding: var(--space-lg); }
    .stats-grid { display: grid; gap: var(--space-lg); grid-template-columns: 1fr; }
    @media (min-width: 768px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (min-width: 1024px) { .stats-grid { grid-template-columns: repeat(4, 1fr); } }
    .stat-card { padding: var(--space-xl); }
    .stat-card .value { font-size: var(--text-2xl); font-weight: 700; color: var(--color-text); margin-bottom: var(--space-xs); }
    .stat-card .label { font-size: var(--text-sm); color: var(--color-text-secondary); }
    .stat-card a { display: block; margin-top: var(--space-md); font-size: var(--text-sm); font-weight: 500; }
    .page-loader { position: fixed; inset: 0; background: var(--color-bg); z-index: 9999; display: flex; align-items: center; justify-content: center; transition: opacity 0.4s ease, visibility 0.4s ease; }
    .page-loader.hidden { opacity: 0; visibility: hidden; }
  </style>
</head>
<body class="has-sidebar-admin">
  <div class="page-loader" id="pageLoader">
    <div style="display: flex; flex-wrap: wrap; gap: var(--space-md); padding: var(--space-lg);">
      <div class="skeleton skeleton-card" style="width: 200px; height: 120px; border-radius: var(--radius-xl);"></div>
      <div class="skeleton skeleton-card" style="width: 200px; height: 120px; border-radius: var(--radius-xl);"></div>
      <div class="skeleton skeleton-card" style="width: 200px; height: 120px; border-radius: var(--radius-xl);"></div>
      <div class="skeleton skeleton-card" style="width: 200px; height: 120px; border-radius: var(--radius-xl);"></div>
    </div>
  </div>

  <aside class="sidebar sidebar-admin" id="sidebar" style="display: none;">
    <div class="sidebar-brand">Admin</div>
    <ul class="sidebar-nav">
      <li><a href="dashboard.html" class="active">Dashboard</a></li>
      <li><a href="careers.html">Careers</a></li>
      <li><a href="questions.html">Questions</a></li>
      <li><a href="users.html">Users</a></li>
    </ul>
  </aside>

  <div class="main-with-sidebar">
  <header class="site-header">
    <div class="container">
      <div class="header-left">
        <a href="dashboard.html" class="logo">Career<span>Guide</span> Admin</a>
        <nav class="nav-links">
          <a href="dashboard.html" class="active">Dashboard</a>
          <a href="careers.html">Careers</a>
          <a href="questions.html">Questions</a>
          <a href="users.html">Users</a>
        </nav>
      </div>
      <div class="nav-actions">
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
          <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
          <svg class="icon-moon sr-only" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
        </button>
        <a href="../index.html" class="btn btn-ghost">View site</a>
        <a href="login.html" class="btn btn-ghost">Logout</a>
        <button class="hamburger" id="hamburger" aria-label="Open menu"><span></span><span></span><span></span></button>
      </div>
    </div>
  </header>
  <nav class="mobile-nav" id="mobileNav">
    <a href="dashboard.html" class="active">Dashboard</a>
    <a href="careers.html">Careers</a>
    <a href="questions.html">Questions</a>
    <a href="users.html">Users</a>
    <a href="../index.html">View site</a>
    <a href="login.html">Logout</a>
  </nav>

  <div class="admin-header">
    <h1>Dashboard</h1>
  </div>

  <main class="admin-main">
    <div class="stats-grid">
      <div class="card stat-card">
        <div class="value" id="totalUsers">0</div>
        <div class="label">Total users</div>
        <a href="users.html">View users →</a>
      </div>
      <div class="card stat-card">
        <div class="value" id="totalCareers">0</div>
        <div class="label">Total careers</div>
        <a href="careers.html">Manage careers →</a>
      </div>
      <div class="card stat-card">
        <div class="value" id="totalTests">0</div>
        <div class="label">Tests taken</div>
        <a href="users.html">View results →</a>
      </div>
      <div class="card stat-card">
        <div class="value" id="topCareer">--</div>
        <div class="label">Most recommended career</div>
        <a href="careers.html">Manage →</a>
      </div>
    </div>
  </main>
  </div>

  <script>
    (function() {
      var theme = localStorage.getItem('theme') || 'light';
      document.documentElement.setAttribute('data-theme', theme);
      var btn = document.getElementById('themeToggle');
      var sun = btn && btn.querySelector('.icon-sun');
      var moon = btn && btn.querySelector('.icon-moon');
      if (btn) {
        if (theme === 'dark') { if (sun) sun.classList.add('sr-only'); if (moon) moon.classList.remove('sr-only'); }
        else { if (sun) sun.classList.remove('sr-only'); if (moon) moon.classList.add('sr-only'); }
        btn.addEventListener('click', function() {
          var isDark = document.documentElement.getAttribute('data-theme') === 'dark';
          document.documentElement.setAttribute('data-theme', isDark ? 'light' : 'dark');
          localStorage.setItem('theme', isDark ? 'light' : 'dark');
          if (sun) sun.classList.toggle('sr-only', !isDark);
          if (moon) moon.classList.toggle('sr-only', isDark);
        });
      }
      var sidebar = document.getElementById('sidebar');
      if (sidebar) {
        function checkSidebar() { if (window.innerWidth >= 1024) sidebar.style.display = 'block'; else sidebar.style.display = 'none'; }
        checkSidebar();
        window.addEventListener('resize', checkSidebar);
      }
      var hamburger = document.getElementById('hamburger');
      var mobileNav = document.getElementById('mobileNav');
      if (hamburger && mobileNav) {
        hamburger.addEventListener('click', function() { hamburger.classList.toggle('open'); mobileNav.classList.toggle('open'); });
        mobileNav.querySelectorAll('a').forEach(function(a) { a.addEventListener('click', function() { hamburger.classList.remove('open'); mobileNav.classList.remove('open'); }); });
      }

      // Mock admin stats
      document.getElementById('totalUsers').textContent = '248';
      document.getElementById('totalCareers').textContent = '12';
      document.getElementById('totalTests').textContent = '186';
      document.getElementById('topCareer').textContent = 'Software Developer';

      setTimeout(function() {
        document.getElementById('pageLoader').classList.add('hidden');
      }, 500);
    })();
  </script>
</body>
</html>
